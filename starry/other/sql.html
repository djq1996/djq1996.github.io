<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL | Hi, Welcome to starry</title>
    <meta name="description" content="种一棵树，最好的时间是十年前，其次是现在。">
    <link rel="icon" href="/icons/favicon.ico">
  <meta name="theme-color" content="#1296db">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#333">
    
    <link rel="preload" href="/assets/css/0.styles.0e5b67eb.css" as="style"><link rel="preload" href="/assets/js/app.deb42745.js" as="script"><link rel="preload" href="/assets/js/17.be9ba4a9.js" as="script"><link rel="prefetch" href="/assets/js/11.80c2ab0e.js"><link rel="prefetch" href="/assets/js/2.cda51ec0.js"><link rel="prefetch" href="/assets/js/3.12ff9918.js"><link rel="prefetch" href="/assets/js/4.19a4cc9b.js"><link rel="prefetch" href="/assets/js/5.cc07993a.js"><link rel="prefetch" href="/assets/js/6.d919f471.js"><link rel="prefetch" href="/assets/js/7.5bf12def.js"><link rel="prefetch" href="/assets/js/8.a4a53ca8.js"><link rel="prefetch" href="/assets/js/9.ce751d20.js"><link rel="prefetch" href="/assets/js/10.b7cd609a.js"><link rel="prefetch" href="/assets/js/12.8684b057.js"><link rel="prefetch" href="/assets/js/13.aca8fab2.js"><link rel="prefetch" href="/assets/js/14.c0caae3c.js"><link rel="prefetch" href="/assets/js/15.64b81469.js"><link rel="prefetch" href="/assets/js/16.5c0185a0.js"><link rel="prefetch" href="/assets/js/18.8cf5a70c.js"><link rel="prefetch" href="/assets/js/19.f552ce4f.js"><link rel="prefetch" href="/assets/js/20.630ccde5.js"><link rel="prefetch" href="/assets/js/21.8fbb2622.js"><link rel="prefetch" href="/assets/js/22.0f541a45.js"><link rel="prefetch" href="/assets/js/23.32b46eee.js"><link rel="prefetch" href="/assets/js/24.7d9d8c6e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0e5b67eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hi, Welcome to starry</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Front-end</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/es6.html" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----> <a href="/angular/angular-cli.html" class="nav-link">Angular</a></li><li class="dropdown-item"><!----> <a href="/vue/vue-cli.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/other/webpack.html" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/other/css.html" class="nav-link">Css</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Back-end</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/terminal/node.html" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/terminal/bash.html" class="nav-link">Bash</a></li><li class="dropdown-item"><!----> <a href="/terminal/liunx.html" class="nav-link">Liunx</a></li><li class="dropdown-item"><!----> <a href="/other/python3.html" class="nav-link">Python3</a></li><li class="dropdown-item"><!----> <a href="/other/sql.html" class="nav-link router-link-exact-active router-link-active">Sql</a></li></ul></div></div><div class="nav-item"><a href="/other/git.html" class="nav-link">Git</a></div><div class="nav-item"><a href="https://www.github.com/djq1996/djq1996.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Front-end</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/es6.html" class="nav-link">Javascript</a></li><li class="dropdown-item"><!----> <a href="/angular/angular-cli.html" class="nav-link">Angular</a></li><li class="dropdown-item"><!----> <a href="/vue/vue-cli.html" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/other/webpack.html" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/other/css.html" class="nav-link">Css</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Back-end</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/terminal/node.html" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/terminal/bash.html" class="nav-link">Bash</a></li><li class="dropdown-item"><!----> <a href="/terminal/liunx.html" class="nav-link">Liunx</a></li><li class="dropdown-item"><!----> <a href="/other/python3.html" class="nav-link">Python3</a></li><li class="dropdown-item"><!----> <a href="/other/sql.html" class="nav-link router-link-exact-active router-link-active">Sql</a></li></ul></div></div><div class="nav-item"><a href="/other/git.html" class="nav-link">Git</a></div><div class="nav-item"><a href="https://www.github.com/djq1996/djq1996.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>SQL</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/other/sql.html#mysql8" class="sidebar-link">mysql8</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/other/sql.html#允许-mysql-远程登录" class="sidebar-link">允许 mysql 远程登录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/sql.html#安装好-mysql8-x-后，登陆-mysql" class="sidebar-link">安装好 mysql8.x 后，登陆 mysql:</a></li></ul></li><li><a href="/other/sql.html#web-sql" class="sidebar-link">web sql</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/other/sql.html#计算并且检测是否是-0" class="sidebar-link">计算并且检测是否是 0</a></li><li class="sidebar-sub-header"><a href="/other/sql.html#设置索引" class="sidebar-link">设置索引</a></li><li class="sidebar-sub-header"><a href="/other/sql.html#查询某列最大最小值" class="sidebar-link">查询某列最大最小值</a></li><li class="sidebar-sub-header"><a href="/other/sql.html#分组" class="sidebar-link">分组</a></li><li class="sidebar-sub-header"><a href="/other/sql.html#合并查询" class="sidebar-link">合并查询</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="sql"><a href="#sql" aria-hidden="true" class="header-anchor">#</a> SQL</h1> <h2 id="mysql8"><a href="#mysql8" aria-hidden="true" class="header-anchor">#</a> mysql8</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>
<span class="token comment">-- mysql terminal login</span>
mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
mysql <span class="token operator">-</span>u dev <span class="token operator">-</span>pdev


<span class="token comment">-- 创建用户 密码必须大小写加符号 八位</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'dev'</span>@'localhost<span class="token string">' IDENTIFIED BY '</span>dev<span class="token string">';
CREATE USER '</span>dev1<span class="token string">'@'</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token string">' IDENTIFIED BY '</span>Dev1123<span class="token punctuation">.</span><span class="token string">';
CREATE USER '</span>dev2<span class="token string">'@'</span><span class="token operator">%</span><span class="token string">' IDENTIFIED BY '</span>dev02<span class="token string">';

-- 赋予权限
GRANT ALL ON test.* TO `dev`@`localhost` WITH GRANT OPTION;
GRANT ALL ON test.* TO `dev02`@`%` WITH GRANT OPTION;
GRANT ALL ON *.* TO `dev`@`localhost` WITH GRANT OPTION;
-- 查看权限

SHOW GRANTS FOR [name];
SHOW GRANTS FOR '</span>dev1<span class="token string">'@'</span>localhost<span class="token string">';

-- 删除用户单个权限

REVOKE INSERT, UPDATE, DELETE ON app_db.* FROM '</span>app_write<span class="token string">';

-- 删除用户及权限

drop user dev@'</span>localhost<span class="token string">';
drop user dev01@'</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token string">';
drop user dev02@'</span><span class="token operator">%</span><span class="token string">';
-- 修改密码
ALTER USER '</span>dev<span class="token string">'@'</span><span class="token operator">%</span><span class="token string">' IDENTIFIED WITH mysql_native_password BY '</span>passwd<span class="token string">';
-- 创建数据库
create database mydata;

-- DROP database mydata;

use mydata;

CREATE TABLE IF NOT EXISTS `user`(
`id` INT UNSIGNED AUTO_INCREMENT,
`name` VARCHAR(100) NOT NULL,
`tel` VARCHAR(40) NOT NULL,
`date` DATE,
PRIMARY KEY ( `id` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS djq(
`id` INT NOT NULL,
`name` VARCHAR(100) NOT NULL,
`date` DATE,
PRIMARY KEY ( `id` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE `djq` (
`name` varchar(100) NOT NULL,
`date` date DEFAULT NULL,
`lala` int(11) DEFAULT NULL,
`djq` varchar(30) NOT NULL,
`djqs` varchar(30) NOT NULL DEFAULT '</span>董建强<span class="token string">'
) ENGINE=InnoDB DEFAULT CHARSET=utf8

-- DROP TABLE user ;

INSERT INTO user
(name, tel, date)
VALUES
(&quot;董建强&quot;, &quot;10010&quot;, NOW());

INSERT INTO user
VALUES
(&quot;董建强 4&quot;, &quot;10010&quot;, NOW());

INSERT INTO user
(name, tel, date)
VALUES
(&quot;董建强 1&quot;, &quot;10010&quot;, NOW()),(&quot;董建强 2&quot;, &quot;10010&quot;, NOW());

INSERT INTO djq
VALUES
('</span><span class="token number">3</span><span class="token string">', &quot;lala&quot;+NOW(), NOW());

-- DELETE FROM djq;

INSERT INTO user
(name, tel, date)
VALUES
(&quot;董建强 1&quot;, &quot;10010&quot;, NOW()),(&quot;董建强 2&quot;, &quot;10010&quot;, NOW());

show create TABLE djq;
CREATE TABLE `djq` (
`name` varchar(100) NOT NULL,
`date` date DEFAULT NULL,
`lala` int(11) DEFAULT NULL,
`djq` varchar(30) NOT NULL,
`djqs` varchar(30) NOT NULL DEFAULT '</span>董建强<span class="token string">'
) ENGINE=InnoDB DEFAULT CHARSET=utf8

CREATE TABLE `campaignDayHour` (
`name` varchar(100) NOT NULL,
`date` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8
CREATE TABLE `campaignDayHour1` (
`name` varchar(100) NOT NULL,
`date` VARCHAR(50) NOT NULL,
`hour` VARCHAR(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8

DROP TABLE campaignDayHour1;
insert into campaignDayHour1 values ('</span>elm1<span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span><span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">01</span><span class="token string">'),
('</span>elm1<span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span><span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">08</span><span class="token string">'),('</span>elm1<span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">20</span><span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">00</span><span class="token string">'),('</span>elm1<span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">21</span><span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">08</span><span class="token string">')
-- show 1-100 随机数
insert into campaignDayHour values ('</span>elm1<span class="token string">','</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">16</span> <span class="token string">')

select _ from campaignDayHour where date BETWEEN '</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">16</span> <span class="token number">08</span><span class="token string">' AND '</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">09</span><span class="token string">';
select _ from campaignDayHour1 where date &gt;='</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">16</span> <span class="token number">01</span><span class="token string">' AND date &lt;='</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">01</span><span class="token string">';
select _ from campaignDayHour1 where hour &gt;='</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">01</span><span class="token string">' AND hour &lt;='</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">0</span><span class="token string">';
select _ from campaignDayHour1 where hour &gt;='</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">01</span><span class="token string">' AND hour &lt;='</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">00</span><span class="token string">';

INSERT INTO djq
VALUES
('</span><span class="token number">5</span><span class="token string">', FLOOR(RAND()\*100), NOW());

INSERT INTO djq
VALUES
('</span><span class="token number">5</span><span class="token string">', FLOOR(1+RAND()\*100), NOW());

-- remove table column name;
ALTER TABLE DJQ DROP djq;

-- add table column name and datatype
ALTER TABLE DJQ add djq VARCHAR(30) not NULL ;

-- set default value
ALTER TABLE DJQ add djqs VARCHAR(30) not NULL DEFAULT '</span>董建强' <span class="token punctuation">;</span>

<span class="token comment">-- select</span>
<span class="token keyword">select</span> \<span class="token operator">*</span> <span class="token keyword">from</span> djq<span class="token punctuation">;</span>
</code></pre></div><h2 id="允许-mysql-远程登录"><a href="#允许-mysql-远程登录" aria-hidden="true" class="header-anchor">#</a> 允许 mysql 远程登录</h2> <h3 id="安装好-mysql8-x-后，登陆-mysql"><a href="#安装好-mysql8-x-后，登陆-mysql" aria-hidden="true" class="header-anchor">#</a> 安装好 mysql8.x 后，登陆 mysql:</h3> <div class="language-bash extra-class"><pre class="language-bash"><code>
mysql -u root -p
use mysql<span class="token punctuation">;</span>
GRANT ALL ON *.* TO <span class="token string">'root'</span>@<span class="token string">'%'</span><span class="token punctuation">;</span>



</code></pre></div><h2 id="web-sql"><a href="#web-sql" aria-hidden="true" class="header-anchor">#</a> web sql</h2> <h3 id="计算并且检测是否是-0"><a href="#计算并且检测是否是-0" aria-hidden="true" class="header-anchor">#</a> 计算并且检测是否是 0</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>IFNULL<span class="token punctuation">(</span><span class="token function">SUM</span><span class="token punctuation">(</span>localSpend<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">SUM</span><span class="token punctuation">(</span>conversions<span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> avgCPA<span class="token punctuation">,</span>
</code></pre></div><h3 id="设置索引"><a href="#设置索引" aria-hidden="true" class="header-anchor">#</a> 设置索引</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> table_name <span class="token punctuation">(</span>column_name<span class="token punctuation">)</span>
</code></pre></div><h3 id="查询某列最大最小值"><a href="#查询某列最大最小值" aria-hidden="true" class="header-anchor">#</a> 查询某列最大最小值</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> small<span class="token punctuation">,</span><span class="token function">MAX</span><span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> big <span class="token keyword">FROM</span> table_name
</code></pre></div><h3 id="分组"><a href="#分组" aria-hidden="true" class="header-anchor">#</a> 分组</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> orgId <span class="token punctuation">,</span>campaignId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>taps<span class="token punctuation">)</span> <span class="token keyword">AS</span> taps<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>conversions<span class="token punctuation">)</span> <span class="token keyword">AS</span> conversions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>impressions<span class="token punctuation">)</span> <span class="token keyword">AS</span> impressions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>localSpend<span class="token punctuation">)</span> <span class="token keyword">AS</span> localSpend
<span class="token keyword">FROM</span> CamPaignDayReports_5ebd0316_b0b9_11e6_9649_0e72c199bffc
<span class="token keyword">group</span> <span class="token keyword">by</span> orgId <span class="token punctuation">,</span>campaignId
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> orgId <span class="token punctuation">,</span>campaignId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>taps<span class="token punctuation">)</span> <span class="token keyword">AS</span> taps<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>conversions<span class="token punctuation">)</span> <span class="token keyword">AS</span> conversions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>impressions<span class="token punctuation">)</span> <span class="token keyword">AS</span> impressions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>localSpend<span class="token punctuation">)</span> <span class="token keyword">AS</span> localSpend
<span class="token keyword">FROM</span> CamPaignDayReports
<span class="token keyword">group</span> <span class="token keyword">by</span> orgId <span class="token punctuation">,</span>campaignId
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> orgId <span class="token punctuation">,</span><span class="token keyword">date</span><span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>taps<span class="token punctuation">)</span> <span class="token keyword">AS</span> taps<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>conversions<span class="token punctuation">)</span> <span class="token keyword">AS</span> conversions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>impressions<span class="token punctuation">)</span> <span class="token keyword">AS</span> impressions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>localSpend<span class="token punctuation">)</span> <span class="token keyword">AS</span> localSpend
<span class="token keyword">FROM</span> CamPaignDayReports
<span class="token keyword">group</span> <span class="token keyword">by</span> orgId <span class="token punctuation">,</span><span class="token keyword">date</span>
</code></pre></div><div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> aa<span class="token punctuation">.</span>orgId<span class="token punctuation">,</span>bb<span class="token punctuation">.</span>storefront<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>taps<span class="token punctuation">)</span> <span class="token keyword">AS</span> taps<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>conversions<span class="token punctuation">)</span> <span class="token keyword">AS</span> conversions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>impressions<span class="token punctuation">)</span> <span class="token keyword">AS</span> impressions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>localSpend<span class="token punctuation">)</span> <span class="token keyword">AS</span> localSpend
<span class="token keyword">FROM</span> Campaigns <span class="token keyword">as</span> bb
<span class="token keyword">left</span> <span class="token keyword">join</span> CamPaignDayReports <span class="token keyword">as</span> aa
<span class="token keyword">on</span> aa<span class="token punctuation">.</span>orgId<span class="token operator">=</span>bb<span class="token punctuation">.</span>orgId <span class="token operator">and</span> aa<span class="token punctuation">.</span>campaignId<span class="token operator">=</span>bb<span class="token punctuation">.</span>campaignId
<span class="token keyword">group</span> <span class="token keyword">by</span> aa<span class="token punctuation">.</span>orgId<span class="token punctuation">,</span>bb<span class="token punctuation">.</span>storefront
</code></pre></div><h3 id="合并查询"><a href="#合并查询" aria-hidden="true" class="header-anchor">#</a> 合并查询</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span> aa<span class="token punctuation">.</span>orgId <span class="token punctuation">,</span>aa<span class="token punctuation">.</span>campaignId<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>bb<span class="token punctuation">.</span>taps<span class="token punctuation">)</span> <span class="token keyword">AS</span> taps<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>bb<span class="token punctuation">.</span>conversions<span class="token punctuation">)</span> <span class="token keyword">AS</span> conversions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>bb<span class="token punctuation">.</span>impressions<span class="token punctuation">)</span> <span class="token keyword">AS</span> impressions<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span>bb<span class="token punctuation">.</span>localSpend<span class="token punctuation">)</span> <span class="token keyword">AS</span> localSpend <span class="token punctuation">,</span>aa<span class="token punctuation">.</span>appName
<span class="token keyword">FROM</span>  Campaigns <span class="token keyword">as</span> aa

<span class="token keyword">left</span> <span class="token keyword">join</span> CamPaignDayReports <span class="token keyword">as</span>  bb
<span class="token keyword">on</span> aa<span class="token punctuation">.</span>orgId<span class="token operator">=</span>bb<span class="token punctuation">.</span>orgId <span class="token operator">and</span> aa<span class="token punctuation">.</span>campaignId<span class="token operator">=</span>bb<span class="token punctuation">.</span>campaignId

<span class="token keyword">where</span> aa<span class="token punctuation">.</span>campaignStatus <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'PAUSED'</span><span class="token punctuation">)</span> <span class="token operator">and</span> bb<span class="token punctuation">.</span><span class="token keyword">date</span> <span class="token operator">&gt;=</span><span class="token string">'2018-04-06'</span> <span class="token operator">and</span> bb<span class="token punctuation">.</span><span class="token keyword">date</span> <span class="token operator">&lt;=</span><span class="token string">'2018-04-10'</span>

<span class="token keyword">group</span> <span class="token keyword">by</span> aa<span class="token punctuation">.</span>orgId <span class="token punctuation">,</span>aa<span class="token punctuation">.</span>campaignId
</code></pre></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">11/28/2018, 5:33:14 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/17.be9ba4a9.js" defer></script><script src="/assets/js/app.deb42745.js" defer></script>
  </body>
</html>
